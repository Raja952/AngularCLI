{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SofaComponent = class SofaComponent {\n  constructor(sofaService) {\n    this.sofaService = sofaService;\n    this.sofas = [];\n    this.filteredSofas = [];\n    this.loading = false;\n    this.error = '';\n    this.categories = [{\n      name: 'All Sofas',\n      filter: ''\n    }, {\n      name: 'Sectional Sofas',\n      filter: 'sectional'\n    }, {\n      name: 'Recliners',\n      filter: 'recliner'\n    }, {\n      name: 'Leather Sofas',\n      filter: 'leather'\n    }, {\n      name: 'Fabric Sofas',\n      filter: 'fabric'\n    }, {\n      name: 'In Stock',\n      filter: 'inStock'\n    }, {\n      name: 'Under $1000',\n      filter: 'cheap'\n    }];\n    this.selectedCategory = '';\n    this.sortOptions = [{\n      name: 'Price: Low to High',\n      value: 'price-asc'\n    }, {\n      name: 'Price: High to Low',\n      value: 'price-desc'\n    }, {\n      name: 'Name: A to Z',\n      value: 'name-asc'\n    }, {\n      name: 'Name: Z to A',\n      value: 'name-desc'\n    }, {\n      name: 'Newest First',\n      value: 'newest'\n    }];\n    this.selectedSort = 'price-asc';\n    this.searchTerm = '';\n  }\n  ngOnInit() {\n    this.loadSofas();\n  }\n  loadSofas() {\n    this.loading = true;\n    this.sofaService.getAllSofas().subscribe({\n      next: data => {\n        this.sofas = data;\n        this.filteredSofas = [...data];\n        this.applyFilter();\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load sofa collection. Please try again.';\n        this.loading = false;\n        console.error('Error loading sofas:', err);\n      }\n    });\n  }\n  applyFilter() {\n    let result = [...this.sofas];\n    // Apply search filter\n    if (this.searchTerm) {\n      const term = this.searchTerm.toLowerCase();\n      result = result.filter(sofa => sofa.name.toLowerCase().includes(term) || sofa.material.toLowerCase().includes(term) || sofa.color.toLowerCase().includes(term) || sofa.description.toLowerCase().includes(term));\n    }\n    // Apply category filter\n    if (this.selectedCategory) {\n      switch (this.selectedCategory) {\n        case 'sectional':\n          result = result.filter(sofa => sofa.name.toLowerCase().includes('sectional'));\n          break;\n        case 'recliner':\n          result = result.filter(sofa => sofa.name.toLowerCase().includes('recliner'));\n          break;\n        case 'leather':\n          result = result.filter(sofa => sofa.material.toLowerCase().includes('leather'));\n          break;\n        case 'fabric':\n          result = result.filter(sofa => sofa.material.toLowerCase().includes('fabric'));\n          break;\n        case 'inStock':\n          result = result.filter(sofa => sofa.inStock);\n          break;\n        case 'cheap':\n          result = result.filter(sofa => sofa.price < 1000);\n          break;\n      }\n    }\n    // Apply sorting\n    result.sort((a, b) => {\n      switch (this.selectedSort) {\n        case 'price-asc':\n          return a.price - b.price;\n        case 'price-desc':\n          return b.price - a.price;\n        case 'name-asc':\n          return a.name.localeCompare(b.name);\n        case 'name-desc':\n          return b.name.localeCompare(a.name);\n        case 'newest':\n          return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n        default:\n          return 0;\n      }\n    });\n    this.filteredSofas = result;\n  }\n  onSearch() {\n    this.applyFilter();\n  }\n  onCategorySelect(category) {\n    this.selectedCategory = category;\n    this.applyFilter();\n  }\n  onSortChange() {\n    this.applyFilter();\n  }\n  getBadgeClass(material) {\n    const classes = {\n      'leather': 'badge-leather',\n      'fabric': 'badge-fabric',\n      'velvet': 'badge-velvet',\n      'wood': 'badge-wood',\n      'synthetic': 'badge-synthetic'\n    };\n    const materialKey = material.toLowerCase();\n    for (const key in classes) {\n      if (materialKey.includes(key)) {\n        return classes[key];\n      }\n    }\n    return 'badge-secondary';\n  }\n  getMaterialIcon(material) {\n    const icons = {\n      'leather': 'fa-solid fa-cow',\n      'fabric': 'fa-solid fa-tshirt',\n      'velvet': 'fa-solid fa-gem',\n      'wood': 'fa-solid fa-tree',\n      'synthetic': 'fa-solid fa-flask'\n    };\n    const materialKey = material.toLowerCase();\n    for (const key in icons) {\n      if (materialKey.includes(key)) {\n        return icons[key];\n      }\n    }\n    return 'fa-solid fa-couch';\n  }\n  formatPrice(price) {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2\n    }).format(price);\n  }\n};\nSofaComponent = __decorate([Component({\n  selector: 'app-sofa',\n  templateUrl: './sofa.component.html',\n  styleUrls: ['./sofa.component.css']\n})], SofaComponent);\nexport { SofaComponent };","map":{"version":3,"mappings":"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","names":["Component","SofaComponent","constructor","sofaService","name","filter","value","ngOnInit","loadSofas","loading","getAllSofas","subscribe","next","data","sofas","filteredSofas","applyFilter","error","err","console","result","searchTerm","term","toLowerCase","sofa","includes","material","color","description","selectedCategory","inStock","price","sort","a","b","selectedSort","localeCompare","Date","createdAt","getTime","onSearch","onCategorySelect","category","onSortChange","getBadgeClass","classes","materialKey","key","getMaterialIcon","icons","formatPrice","Intl","NumberFormat","style","currency","minimumFractionDigits","format","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Macbook Pro\\Desktop\\my-app\\src\\app\\items\\sofa\\sofa.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { SofaService } from '../services/sofa.service';\n\ninterface Sofa {\n  id: number;\n  name: string;\n  material: string;\n  color: string;\n  price: number;\n  dimensions: string;\n  inStock: boolean;\n  description: string;\n  imageUrl: string;\n  createdAt: Date;\n}\n\n@Component({\n  selector: 'app-sofa',\n  templateUrl: './sofa.component.html',\n  styleUrls: ['./sofa.component.css']\n})\nexport class SofaComponent implements OnInit {\n  sofas: Sofa[] = [];\n  filteredSofas: Sofa[] = [];\n  loading = false;\n  error = '';\n  categories = [\n    { name: 'All Sofas', filter: '' },\n    { name: 'Sectional Sofas', filter: 'sectional' },\n    { name: 'Recliners', filter: 'recliner' },\n    { name: 'Leather Sofas', filter: 'leather' },\n    { name: 'Fabric Sofas', filter: 'fabric' },\n    { name: 'In Stock', filter: 'inStock' },\n    { name: 'Under $1000', filter: 'cheap' }\n  ];\n  selectedCategory = '';\n  sortOptions = [\n    { name: 'Price: Low to High', value: 'price-asc' },\n    { name: 'Price: High to Low', value: 'price-desc' },\n    { name: 'Name: A to Z', value: 'name-asc' },\n    { name: 'Name: Z to A', value: 'name-desc' },\n    { name: 'Newest First', value: 'newest' }\n  ];\n  selectedSort = 'price-asc';\n  searchTerm = '';\n\n  constructor(private sofaService: SofaService) { }\n\n  ngOnInit(): void {\n    this.loadSofas();\n  }\n\n  loadSofas(): void {\n    this.loading = true;\n    this.sofaService.getAllSofas().subscribe({\n      next: (data) => {\n        this.sofas = data;\n        this.filteredSofas = [...data];\n        this.applyFilter();\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Failed to load sofa collection. Please try again.';\n        this.loading = false;\n        console.error('Error loading sofas:', err);\n      }\n    });\n  }\n\n  applyFilter(): void {\n    let result = [...this.sofas];\n\n    // Apply search filter\n    if (this.searchTerm) {\n      const term = this.searchTerm.toLowerCase();\n      result = result.filter(sofa =>\n        sofa.name.toLowerCase().includes(term) ||\n        sofa.material.toLowerCase().includes(term) ||\n        sofa.color.toLowerCase().includes(term) ||\n        sofa.description.toLowerCase().includes(term)\n      );\n    }\n\n    // Apply category filter\n    if (this.selectedCategory) {\n      switch (this.selectedCategory) {\n        case 'sectional':\n          result = result.filter(sofa => sofa.name.toLowerCase().includes('sectional'));\n          break;\n        case 'recliner':\n          result = result.filter(sofa => sofa.name.toLowerCase().includes('recliner'));\n          break;\n        case 'leather':\n          result = result.filter(sofa => sofa.material.toLowerCase().includes('leather'));\n          break;\n        case 'fabric':\n          result = result.filter(sofa => sofa.material.toLowerCase().includes('fabric'));\n          break;\n        case 'inStock':\n          result = result.filter(sofa => sofa.inStock);\n          break;\n        case 'cheap':\n          result = result.filter(sofa => sofa.price < 1000);\n          break;\n      }\n    }\n\n    // Apply sorting\n    result.sort((a, b) => {\n      switch (this.selectedSort) {\n        case 'price-asc':\n          return a.price - b.price;\n        case 'price-desc':\n          return b.price - a.price;\n        case 'name-asc':\n          return a.name.localeCompare(b.name);\n        case 'name-desc':\n          return b.name.localeCompare(a.name);\n        case 'newest':\n          return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n        default:\n          return 0;\n      }\n    });\n\n    this.filteredSofas = result;\n  }\n\n  onSearch(): void {\n    this.applyFilter();\n  }\n\n  onCategorySelect(category: string): void {\n    this.selectedCategory = category;\n    this.applyFilter();\n  }\n\n  onSortChange(): void {\n    this.applyFilter();\n  }\n\n  getBadgeClass(material: string): string {\n    const classes: { [key: string]: string } = {\n      'leather': 'badge-leather',\n      'fabric': 'badge-fabric',\n      'velvet': 'badge-velvet',\n      'wood': 'badge-wood',\n      'synthetic': 'badge-synthetic'\n    };\n\n    const materialKey = material.toLowerCase();\n    for (const key in classes) {\n      if (materialKey.includes(key)) {\n        return classes[key];\n      }\n    }\n    return 'badge-secondary';\n  }\n\n  getMaterialIcon(material: string): string {\n    const icons: { [key: string]: string } = {\n      'leather': 'fa-solid fa-cow',\n      'fabric': 'fa-solid fa-tshirt',\n      'velvet': 'fa-solid fa-gem',\n      'wood': 'fa-solid fa-tree',\n      'synthetic': 'fa-solid fa-flask'\n    };\n\n    const materialKey = material.toLowerCase();\n    for (const key in icons) {\n      if (materialKey.includes(key)) {\n        return icons[key];\n      }\n    }\n    return 'fa-solid fa-couch';\n  }\n\n  formatPrice(price: number): string {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2\n    }).format(price);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}